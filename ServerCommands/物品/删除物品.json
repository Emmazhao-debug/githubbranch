{"Enabled":true,"Triggers":[{"$type":"Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon","Permission":{"AllowRoles":["采购员","采购主管","仓库主管","库存管理员"]},"Parameters":[{"Name":"物品ID"}]}],"Commands":[{"$type":"Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon","CommandList":[{"$type":"Forguncy.Model.RequestServerCommand, ServerDesignerCommon","ServerCommandName":"检查是否盘点中","CheckDataValidation":true},{"$type":"Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon","ParameterName":"错误信息","ParameterValue":"已选物品已被采购/销售/出入库单/盘点单包含，请先将这些单据中对应的物品删除。","ID":"5b2ed0ada4c149a3b6b40e25dbe038ed"},{"$type":"Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon","ParameterName":"采购数","TableValue":{"TableName":"采购订单详情表","TableValueType":3,"SqlCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"采购订单详情表","ColumnName":"物品ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"5bab9b12-f49c-4e4c-8df0-c9e4cfd4c422"}},"ID":"e763098fdd0d4a85a9b1f39a87acf5bb"},{"$type":"Forguncy.Model.ConditionCommand, ServerDesignerCommon","ConditionAndCommandPairList":[{"Condition":{"$type":"Forguncy.Model.IfCondition, ServerDesignerCommon","param":{"$type":"Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon","ParamObject":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=采购数"}},"value":"0","compareType":2,"Id":"671a7ae4-0626-4ec2-ae09-1aa083503880"},"CommandList":[{"$type":"Forguncy.Model.ReturnCommand, ServerDesignerCommon","ErrorCode":"1","Message":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=错误信息"}}],"ID":"a8535c25-6a82-41c8-b3a0-084950c574a5"}]},{"$type":"Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon","ParameterName":"销售数","TableValue":{"TableName":"销售订单详情表","TableValueType":3,"SqlCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"销售订单详情表","ColumnName":"物品ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"a785255c-159f-4400-a092-cd87c947909b"}},"ID":"1b05afb0682a44fcba8abd8523f970bb"},{"$type":"Forguncy.Model.ConditionCommand, ServerDesignerCommon","ConditionAndCommandPairList":[{"Condition":{"$type":"Forguncy.Model.IfCondition, ServerDesignerCommon","param":{"$type":"Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon","ParamObject":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=销售数"}},"value":"0","compareType":2,"Id":"b0ddf454-f0c7-41f3-9651-1468ff0a0fbb"},"CommandList":[{"$type":"Forguncy.Model.ReturnCommand, ServerDesignerCommon","ErrorCode":"1","Message":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=错误信息"}}],"ID":"a8535c25-6a82-41c8-b3a0-084950c574a5"}]},{"$type":"Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon","ParameterName":"出入库数","TableValue":{"TableName":"出入库详情表","TableValueType":3,"SqlCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"出入库详情表","ColumnName":"物品ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"353f3e2c-6068-4904-b7b7-36dea7d1134a"}},"ID":"3bd50af296c543d3939d7ef9669a9450"},{"$type":"Forguncy.Model.ConditionCommand, ServerDesignerCommon","ConditionAndCommandPairList":[{"Condition":{"$type":"Forguncy.Model.IfCondition, ServerDesignerCommon","param":{"$type":"Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon","ParamObject":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=出入库数"}},"value":"0","compareType":2,"Id":"a147273a-1a46-4ee9-8cd1-4929ff028819"},"CommandList":[{"$type":"Forguncy.Model.ReturnCommand, ServerDesignerCommon","ErrorCode":"1","Message":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=错误信息"}}],"ID":"a8535c25-6a82-41c8-b3a0-084950c574a5"}]},{"$type":"Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon","ParameterName":"盘点数","TableValue":{"TableName":"盘点详情表","TableValueType":3,"SqlCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"盘点详情表","ColumnName":"物品ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"f64dde70-42ce-4b5f-abb7-1769713e5695"}},"ID":"0a3da968519d41e49224507fbd12245b"},{"$type":"Forguncy.Model.ConditionCommand, ServerDesignerCommon","ConditionAndCommandPairList":[{"Condition":{"$type":"Forguncy.Model.IfCondition, ServerDesignerCommon","param":{"$type":"Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon","ParamObject":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=盘点数"}},"value":"0","compareType":2,"Id":"0b378d20-8011-43b1-9612-80b10879b09d"},"CommandList":[{"$type":"Forguncy.Model.ReturnCommand, ServerDesignerCommon","ErrorCode":"1","Message":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=错误信息"}}],"ID":"a8535c25-6a82-41c8-b3a0-084950c574a5"}]},{"$type":"Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon","TableName":"供应商客户物品相关表","UpdateType":"delete","ShowConfirm":true,"ConfirmText":"您确定要删除吗？","RowsToUpdate":1,"RowsToUpdateCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"供应商客户物品相关表","ColumnName":"物品ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"ad4439a5-af4d-4480-8e0f-8e39e2374faa"},"UpdateValues":[],"ParamNameToSaveNewRowValue":"NewRow"},{"$type":"Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon","TableName":"物品表","UpdateType":"delete","ShowConfirm":true,"ConfirmText":"您确定要删除吗？","RowsToUpdate":1,"RowsToUpdateCondition":{"$type":"ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess","ColumnBindingInfo":{"TableName":"物品表","ColumnName":"ID"},"Value":{"$type":"Forguncy.Model.FormulaReferObject, ServerDesignerCommon","SerializeProperty":"=物品ID"},"Id":"0390e9bf-654c-4bc1-bc26-c4d465a78e1f"},"UpdateValues":[],"ParamNameToSaveNewRowValue":"NewRow"}]}],"Name":"删除物品"}